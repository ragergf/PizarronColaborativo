<html>
<head>
   <title>Canvas rectángulos</title>
<script>
//Recibe un identificador del elemento canvas y carga el canvas
//Devueve el contexto del canvas o FALSE si no ha podido conseguise
function cargaContextoCanvas(idCanvas){
   var elemento = document.getElementById(idCanvas);
   if(elemento && elemento.getContext){
      var contexto = elemento.getContext('2d');
      if(contexto){
         return contexto;
      }
   }
   return FALSE;
}

window.onload = function(){
   //Recibimos el elemento canvas
   var contexto = cargaContextoCanvas('micanvas');
   if(contexto){
      //Si tengo el contexto 
      
      //cambio el color de relleno de los rectángulos
      contexto.fillStyle = '#cc0000';
      for (i=0;i<=100;i+=10){
         // fillRect(x,y,width,height) dibuja un rectángulo relleno de color
         contexto.fillRect(i,i,5,5);
      }
      //cambio el color de la línea de borde del rectángulo
      contexto.strokeStyle = '#ff9933';
      for (i=100;i>=0;i-=10){
         //strokeRect(x,y,width,height) dibuja el borde de un rectángulo
         contexto.strokeRect(i,100-i,5,5);
      }
   }
}

function borrar_parcial(){
   var contexto = cargaContextoCanvas('micanvas');
   if(contexto){
      //clearRect(x,y,width,height) borra un área rectangular del canvas dejándola transparente
      contexto.clearRect(0,0,42,150);
   }
}

</script>

</head>

<body bgcolor="#ffff99">

<canvas id="micanvas" width="150" height="150">
Contenido que sólo verán los usuarios que no soportan canvas en su navegador. Usa una versión moderna de Firefox, Chrome, Safari, Opera... casi todos los navegadores excepto Explorer son compatibles con Canvas.
</canvas>
<a href="#" onclick="borrar_parcial()">Borrado parcial</a>

</body>
</html>